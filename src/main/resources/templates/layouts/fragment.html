<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:insert="layout/fragment.html::header">
    <meta charset="ISO-8859-1">
    <title>RejiFashion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div th:fragment="header">
    <!-- Top bar with free shipping message -->
    <div class="top-bar" style="background-color: #000; color: #fff; text-align: center; padding: 5px 0;">
        Miễn phí vận chuyển với đơn hàng trên 1000K
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-center">
        <div class="container">
            <a class="navbar-brand" href="/" style="font-weight: bold; font-size: 24px;">RejiFashion</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarToggleDemo02"
                    aria-controls="navbarToggleDemo02" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarToggleDemo02">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/" style="position: relative; transition: color 0.3s; font-size: 18px;">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/clothes" style="position: relative; transition: color 0.3s; font-size: 18px;">Sản phẩm</a>
                    </li>
                    <li class="nav-item">
                        <form th:action="@{/clothes/category}" method="get" style="display: inline-flex; align-items: center; margin-left: 15px;">
                            <select name="categoryId" onchange="this.form.submit()" style="padding: 5px 10px; font-size: 18px; border-radius: 5px; border: 1px solid #ced4da; transition: border-color 0.3s;">
                                <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
                            </select>
                        </form>
                    </li>
                    <li sec:authorize="hasAnyAuthority('ADMIN')" class="nav-item">
                        <a class="nav-link" href="/categories" style="position: relative; transition: color 0.3s; font-size: 18px;">Loại sản phẩm</a>
                    </li>
                    <li sec:authorize="hasAnyAuthority('ADMIN')" class="nav-item">
                        <a class="nav-link" href="/roles" style="position: relative; transition: color 0.3s; font-size: 18px;">Chức vụ</a>
                    </li>
                    <li sec:authorize="hasAnyAuthority('ADMIN')" class="nav-item">
                        <a class="nav-link" href="/users" style="position: relative; transition: color 0.3s; font-size: 18px;">Người dùng</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/cart" style="position: relative; transition: color 0.3s; font-size: 18px;">Giỏ hàng</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/cart/user/invoices" style="position: relative; transition: color 0.3s; font-size: 18px;">Lịch sử đặt hàng</a>
                    </li>
                    <li sec:authorize="hasAnyAuthority('ADMIN')" class="nav-item">
                        <a class="nav-link" href="/cart/admin/invoices" style="position: relative; transition: color 0.3s; font-size: 18px;">Quản lý đơn hàng</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav flex-row justify-content-between ms-auto">
                    <li>
                        <div sec:authorize="isAuthenticated()">
                            <form class="form-inline my-2 my-lg-0" th:action="@{/logout}" method="post" style="display: flex;">
                                <div class="input-group">
                                    <a class="nav-link" href="/users/profile" sec:authentication="name" style="margin-right: 10px; font-size: 18px;">Username</a>
                                    <input class="btn btn-outline-dark" type="submit" value="Logout" />
                                </div>
                            </form>
                        </div>
                        <div sec:authorize="isAnonymous()">
                            <a class="nav-link" href="/login" style="position: relative; transition: color 0.3s; font-size: 18px;">Login</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script>
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('mouseenter', function() {
            this.style.color = '#007bff';
            this.style.textDecoration = 'underline';
        });
        link.addEventListener('mouseleave', function() {
            this.style.color = '';
            this.style.textDecoration = 'none';
        });
    });
</script>
</body>
</html>
